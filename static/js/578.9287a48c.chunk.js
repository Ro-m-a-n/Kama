"use strict";(self.webpackChunkkama=self.webpackChunkkama||[]).push([[578],{578:function(e,a,s){s.r(a),s.d(a,{default:function(){return M}});var t=s(1413),i=s(885),d=s(3504),o=s(184),n=function(e){return(0,o.jsxs)("div",{className:"Dialogs_item active",children:[(0,o.jsx)(d.OL,{className:"Dialog_item__avatar",to:"/messages/".concat(e.id),children:(0,o.jsx)("img",{className:"Avatar",alt:"",src:e.dialogAvatar})}),(0,o.jsx)(d.OL,{to:"/messages/".concat(e.id),children:e.name})]})},l=s(6036),r=function(e){return(0,o.jsxs)("div",{className:"post horisontal ".concat(e.messagesSide," "),children:[(0,o.jsx)("img",{className:"Avatar",alt:"",src:e.photo}),(0,o.jsx)("div",{className:"message",children:e.text}),(0,o.jsx)(l.OZs,{className:"post_icon__delete",onClick:function(){e.deleteMessageAC(e.dialogId,e.messageId)}})]})},g=s(2791),c=s(2381),m=s(704),u=s(2856),h=s(8687),f=s(9922),p=(0,m.Z)({form:"DialogAddMessage"})(u.S),v=(0,h.$j)()((function(e){var a=e.routeParams.params.dialogId||1,s=(0,g.useState)(2),t=(0,i.Z)(s,2),d=t[0],o=t[1],l=e.dialogs.map((function(e){return(0,f.tZ)(n,{name:e.name,id:e.dialogId,dialogAvatar:e.dialogAvatar},e.dialogId)})),m=e.dialogs.filter((function(e){return e.dialogId==a})),u=m[0].message.map((function(s){s.messageId===d&&o(d+1);return(0,f.tZ)(r,{text:s.text,dialogId:a,messageId:s.messageId,deleteMessageAC:e.deleteMessageAC,photo:s.isMe?e.photo:m[0].dialogAvatar,messagesSide:function(){if(!s.isMe)return"rightSide"}()},s.messageId)}));return(0,f.BX)("div",{className:"Dialogs",children:[(0,f.tZ)("div",{className:"Dialogs__items",children:l}),(0,f.tZ)("div",{className:"messages",sx:{bg:"primary"},children:u}),(0,f.tZ)("div",{className:"addMessage",sx:{bg:"primary"},children:(0,f.tZ)(p,{onSubmit:function(s){e.addMessage(s.message,a,d,!0),e.dispatch((0,c.mc)("DialogAddMessage"))},full_widht:"widht"})})]})})),x=s(7781),A=s(973),j=s(8374),I=s(6217),M=(0,x.qC)((0,h.$j)((function(e){return{dialogs:e.messagesPage.dialogs,photo:e.profilePage.photo}}),{addMessage:j.Hz,deleteMessageAC:j.yX}),A.D,I.Z)((function(e){return(0,o.jsx)(v,(0,t.Z)({},e))}))}}]);
//# sourceMappingURL=578.9287a48c.chunk.js.map